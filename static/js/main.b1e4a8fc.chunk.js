(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},110:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},161:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(40),l=a.n(o),s=(a(85),a(16)),c=a(17),i=a(19),u=a(18),h=a(20),g=a(44),m=a(41),d=a(26),p=a(21),f=a(70),E=a(9),v=a.n(E),b=a(23),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,authorized:!1,loginInfo:!0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("isLogged");case 2:"logged"===(t=e.sent)?this.setState({loggedIn:!0,authorized:!0}):"logout"===t?(this.setState({loggedIn:!0,authorized:!0}),localStorage.removeItem("isLogged")):(this.setState({loggedIn:!1}),this.setState({loginError:!0}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(f.a)(t,["component"]);console.log(this.state.loggedIn);return this.state.authorized?r.a.createElement(d.b,Object.assign({},n,{render:function(t){return e.state.loggedIn?r.a.createElement("div",null,r.a.createElement(a,t)):r.a.createElement(d.a,{to:"/login"})}})):r.a.createElement("div",null)}}]),t}(r.a.Component),A=a(27),x=a.n(A),y=a(8),C=a.n(y),O=a(14),S=a.n(O),k=a(37),j=a.n(k),I=a(72),L=a.n(I);a(106);var P=function(e){return r.a.createElement(L.a,{variant:"flat",size:e.size,type:e.submit,onClick:e.onClick},e.buttonText)};a(110);var B=function(e){return r.a.createElement(S.a.Control,{type:e.type,placeholder:e.placeholder,onChange:e.onChange})};a(118);var U=function(e){return r.a.createElement(S.a.Check,{id:"materialUnchecked",type:"checkbox",label:e.checkboxLabel,checked:e.checked,onChange:e.onChange})},T=a(73),Z=a.n(T);a(119);var V=function(e){return r.a.createElement("div",{className:"ProgressBarContainer"},r.a.createElement("div",{className:"ProgressHeader"},"Processing ..."),r.a.createElement(Z.a,{now:e.progressState,label:"60%"}))},D=a(43),M=a.n(D);a(121);var N=function(e){return r.a.createElement("header",{className:"ErrorMessage"},r.a.createElement(M.a,{variant:"danger",onClose:e.onClick,dismissible:!0},r.a.createElement(M.a.Heading,null,e.errorMessage)))},F=a(141).create({baseURL:"https://bench-api.applover.pl/api/v1/",headers:{Accept:"application/json","Content-Type":"application/json"}});function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(b.a)(v.a.mark(function e(t,a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t+" "+a),n={email:t,password:a},e.next=4,F.post("login/",n);case 4:return r=e.sent,console.log(r),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}F.interceptors.response.use(void 0,function(e){return e.response.status,e.response.status});a(161);var R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",keepUserLogged:!1,checkBox:!1,showError:!1,errorMessage:"",showProgressBar:!1,progressState:0},a.validateIsLogged=Object(b.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("isLogged");case 2:return t=e.sent,a="logged"===t,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)})),a.handleChangeEmail=function(e){a.setState({email:e.target.value})},a.handleChangePassword=function(e){a.setState({password:e.target.value})},a.handleChangeCheckbox=function(e){console.log(e.target.checked),a.setState({checkBox:e.target.checked})},a.handleErrorDismiss=function(){a.setState({showError:!1})},a.handleErrorShow=function(){a.setState({showError:!0})},a.tryAuthorize=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r,o,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,o=n.password,setTimeout(a.showProgress(),2e3),e.next=5,z(r,o);case 5:l=e.sent,a.setState({showProgressBar:!1}),200===l.status?(a.state.checkBox?localStorage.setItem("isLogged","logged"):localStorage.setItem("isLogged","logout"),a.props.history.push("/home")):401===l?a.setState({showError:!0,errorMessage:"Invalid username or password"}):a.setState({showError:!0,errorMessage:"A login error occured"});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.validateIsLogged().then(function(t){t&&e.props.history.push("/home")})}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressInterval)}},{key:"showProgress",value:function(){var e=this;this.setState({showProgressBar:!0});var t=10;this.progressInterval=setInterval(function(){return e.setState({progressState:t+=10})},100)}},{key:"render",value:function(){var e=this.props.intl,t=e.formatMessage({id:"email.placeholder"}),a=e.formatMessage({id:"password.placeholder"}),n=e.formatMessage({id:"login.text"}),o=e.formatMessage({id:"login.button.text"}),l=e.formatMessage({id:"checkbox.text"});return r.a.createElement("div",null,this.state.showProgressBar?r.a.createElement(V,{progressState:this.state.progressState}):"",this.state.showError?r.a.createElement(N,{onClick:this.handleErrorDismiss,errorMessage:this.state.errorMessage}):"",r.a.createElement(j.a,{fluid:!0,style:{marginTop:"6em"}},r.a.createElement(x.a,null,r.a.createElement(C.a,{lg:4,md:4}),r.a.createElement(C.a,{lg:4,md:4,style:{padding:"6em"}},r.a.createElement(S.a,{noValidate:!0},r.a.createElement(S.a.Label,{className:"form-label"},n),r.a.createElement(S.a.Group,{controlId:"formBasicEmail"},r.a.createElement(B,{type:"email",placeholder:t,onChange:this.handleChangeEmail})),r.a.createElement(S.a.Group,{controlId:"formBasicPassword"},r.a.createElement(B,{type:"password",placeholder:a,onChange:this.handleChangePassword})),r.a.createElement(S.a.Group,{controlId:"formBasicChecbox"},r.a.createElement(U,{checkboxLabel:l,checked:this.state.checkBox,onChange:this.handleChangeCheckbox})),r.a.createElement(P,{buttonText:o,onClick:this.tryAuthorize,size:"xxl"}))),r.a.createElement(C.a,{lg:4,md:4}))))}}]),t}(r.a.Component),W=Object(p.d)(R),H=a(74),X=a.n(H),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentStep:0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{fluid:!0,style:{marginTop:"6em"}},r.a.createElement(x.a,null,r.a.createElement(C.a,{lg:4,md:4}),r.a.createElement(C.a,{lg:4,md:4},r.a.createElement(X.a,{steps:[{title:"Step 1"},{title:"Step 2"},{title:"Step 3"}],activeStep:this.state.currentStep,defaultColor:"#CDDBE5",activeColor:"#95A3AD",defaultTitleColor:"#848C93",titleFontSize:"10px"})),r.a.createElement(C.a,{lg:4,md:4}))))}}]),t}(r.a.Component),K=a(75),Q=a.n(K);a(180);var q=function(e){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row",id:"selectFormGroup"},r.a.createElement("div",{className:"select-label"},r.a.createElement(p.a,{id:"select.language.title",defaultMessage:"Select language",values:{what:"react-intl"}})),r.a.createElement("select",{className:"form-control",id:"select-language",value:e.value,onChange:e.onChange},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"pl"},"Polish"))))};a(181);var Y=function(e){return r.a.createElement("header",{className:"Toolbar"},r.a.createElement(x.a,null,r.a.createElement(C.a,{lg:4,md:4},r.a.createElement("img",{src:Q.a,className:"Logo",alt:"Logo"})),r.a.createElement(C.a,{lg:4,md:4}),r.a.createElement(C.a,{lg:4,md:4},r.a.createElement(x.a,null,r.a.createElement(C.a,{lg:6,md:10},r.a.createElement(q,{value:e.value,onChange:e.onChange})),r.a.createElement(C.a,{lg:6,md:2},e.homepage?r.a.createElement(P,{size:"lg",buttonText:"Organization",onClick:e.onButtonClick}):"")))))},$=(a(182),a(76)),_=a.n($),ee=a(77),te=a.n(ee),ae=a(78),ne=a(79);Object(p.c)([].concat(Object(g.a)(_.a),Object(g.a)(te.a)));var re={pl:ae,en:ne},oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectValue:"en"},a.handleSelectChange=function(e){a.setState({selectValue:e.target.value})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.b,{locale:this.state.selectValue,messages:re[this.state.selectValue]},r.a.createElement("div",{className:"App"},r.a.createElement(Y,{value:this.state.selectValue,onChange:this.handleSelectChange}),r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,component:W}),r.a.createElement(w,{path:"/",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{path:"/home",component:G}))}})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},69:function(e,t){},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAAAXNSR0IArs4c6QAABLRJREFUaAXtl12IVVUUx69O5geZ5ldUViolWuNLUFIPSTIQBZVFEEiWIQRZoZQQUT5EoEUPUVAZlFAkPkQEFREGOUhpKqmVlZU9jJZpOpXah2lWv1/cPeyOe597blwYB+4ffnP2WXuddddZ++tMrVZNXbj1wt8ZNmE/B6poPE7dkIt1kL450FCDG3qcxA7t5PtrcNqVb1f+f1RgQE+bQRVfuAO/EZB72T/p+w3cuxvJ3zTWKRlHYxjLmKUygAdQmdbSOQpmwJCM4yHsH8OZMDXjo3kvfAnT4AxIyaQ/gx/hqpRDsFkFT84yTaLzElgBJlnUGAw9MA+uhwdhH8Tyd3yxd+AhWAnnwlGIZXGMtxDWgXGzsvI6l8mpYlATn5lwXIbN0dNvGHwIt0Gc2EjuX4LTwBc5HeaDoxXLUdsMp4LxSnPTYcDKyleVizb18WVVYw3n5mw4FhmtuPbfI9sE2sV4Tq3Kaib584i6LRHZncMFFnQ1DYc+pdci48u04xcMXd/RiF8y2E+4NpO8O8XiEyLUaguwXRjZ19N+DFJbnTGC7qHxVbiJrsdpfxvdZ5vNJG813ktE6sIWJ/8D990QL1hu++T3vNoJn/7bSv9xUZfK5HNDHB60gu40nwdD4WqV7DNZt8hv4C/IyXg7wIOoTPqV5ua2VVw0xYB7MLh1WYn9xc66fShXzwsXpb4/QU5hC/Q/ptScD8+Zmws/Kyt/HbwJLpSc3AWugWEZh13Y3wKnz8+QSt5DaSqsh1kwEVJyBNfAbrg55RBsJr8cvoCy5P3Rh+t+XP6jC7hzqrwLJtUJ98IRCHI07oNx8AnYPxa+h6KcTh5ejvIjYGEd1VgXcTPb5KvKneKWhPNSbDPqdhf1tfAsbK3bvEyCm+B5CHqOxupwE139MPsVnIIm/Thsh1h3cDOrmeRdhKnpEFf4FXys1p1wFwSF9jMYHAXlfLaCRblQvwavpWom+dJA9U6H/EW4G6y+W+HFcDusgF9gDKhbwVEqyqo7mlvATUK/4vSaiW1wq5MnZu1VmAtPwI3gSPhS2o9D0JM0tBXltHGEHSGZDKNA+Zlh7PfhhZD8CG5GQkqH68ZBXFM+YRqEZ12Qb8M8WAZXwuuwFWI53ULs2G7yThnjHoBHIZ7zbrXm+4AJ/QEbQceUHLYrwOnwUcLBeeu2ZpWdFup8MOZocOu8DNxOlSesFbeKwUazTy76p2AH+MI3QJz8RO7fgOUd/JkOh8C3TaGjVRgLvnXRx/looh9AmBYHaZuYi9xF6jAHOdq+gIUrxvLe5DfBPvAAXQvmF+RoWehLDVBFJj20xNEkj4LFGFLi58vpZyxj5qRPKETOJ/tPcPGBTgz3Q2rO67sT/JK8HBZATuvoWAlLwJgpubifBqvfEnURpRdcTCn8IYd4UaY/PLOKfqdMd4mfU24ONFTZ0DV8uL8d2sn31wi0K99flQ+fB41+393iWJ2Ur4eLPu73+uUU9m79c372Gaehqh5SboOzIfef1H761sAUcK/PyfNgA7j1npVx8oDqhp5Mf5+5avJ9DzRo+BmRe0Eftdoe/yelqhxSLUu8vdu0rJRNBmpXvsmCtcy9XfmWlbLJQAO68v8Afhodz3SDmdgAAAAASUVORK5CYII="},78:function(e){e.exports={"select.language.title":"Wybierz j\u0119zyk","select.language.en":"Angielski","select.language.pl":"Polski","email.placeholder":"Podaj email","password.placeholder":"Podaj has\u0142o","login.text":"Zaloguj si\u0119","login.button.text":"Zaloguj","checkbox.text":"Pozosta\u0144 zalogowany"}},79:function(e){e.exports={"select.language.title":"Select language","select.language.en":"English","select.language.pl":"Polish","email.placeholder":"Enter email","password.placeholder":"Enter password","login.text":"Log in","login.button.text":"Login","checkbox.text":"Keep me logged in"}},80:function(e,t,a){e.exports=a(183)},85:function(e,t,a){},93:function(e,t){},99:function(e,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.b1e4a8fc.chunk.js.map